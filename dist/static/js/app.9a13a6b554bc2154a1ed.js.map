{"version":3,"sources":["webpack:///./src/api/chat/mock-data.js","webpack:///./src/App.vue?1ca2","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/store/state.js","webpack:///./src/store/actions.js","webpack:///./src/store/mutations.js","webpack:///./src/store/chat/getters.js","webpack:///./src/api/chat/index.js","webpack:///./src/store/chat/mutations.js","webpack:///./src/store/chat/index.js","webpack:///./src/store/chat/state.js","webpack:///./src/store/chat/actions.js","webpack:///./src/store/index.js","webpack:///./src/router/index.js","webpack:///./src/locale/home/index.js","webpack:///./src/locale/index.js","webpack:///./src/mixins/title.js","webpack:///./src/app.js","webpack:///./src/ssr-client.entry.js"],"names":["module","exports","id","threadID","threadName","authorName","text","timestamp","Date","now","selectortype_template_index_0_src_App","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","to","_v","active-class","name","mode","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","state","posts","post","tag","archives","actions","mutations","currentThread","currentThreadID","threads","getters","currentMessages","thread","messages","map","unreadCount","_ref","keys_default","reduce","count","lastMessage","isRead","sortedMessages","slice","sort","a","b","data","require","LATENCY","addMessage","message","some","push","Vue","set","setCurrentThread","chat","namespaced","getAllMessages","cb","commit","setTimeout","sendMessage","_ref2","payload","switchThread","_ref3","receiveAll","latestMessage","forEach","createThread","receiveMessage","use","Vuex","Router","ch","hello","en","VueI18n","createI18n","locale","getTitle","vm","title","$options","call","serverTitleMixin","created","$ssrContext","clientTitleMixin","mounted","document","process","VUE_ENV","mixin","beforeRouteUpdate","from","next","asyncData","store","$store","route","then","catch","router","i18n","scrollBehavior","y","routes","path","redirect","component","e","bind","Store","modules","sync","app","h","App","window","__INITIAL_STATE__","replaceState","onReady","beforeResolve","matched","getMatchedComponents","prevMatched","diffed","asyncDataHooks","filter","i","_","length","promise_default","all","hook","$mount","location","protocol","navigator","serviceWorker","register"],"mappings":"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","file":"static/js/app.9a13a6b554bc2154a1ed.js","sourcesContent":["module.exports = [\n  {\n    id: 'm_1',\n    threadID: 't_1',\n    threadName: 'Jing and Bill',\n    authorName: 'Bill',\n    text: 'Hey Jing, want to give a Flux talk at ForwardJS?',\n    timestamp: Date.now() - 99999\n  },\n  {\n    id: 'm_2',\n    threadID: 't_1',\n    threadName: 'Jing and Bill',\n    authorName: 'Bill',\n    text: 'Seems like a pretty cool conference.',\n    timestamp: Date.now() - 89999\n  },\n  {\n    id: 'm_3',\n    threadID: 't_1',\n    threadName: 'Jing and Bill',\n    authorName: 'Jing',\n    text: 'Sounds good.  Will they be serving dessert?',\n    timestamp: Date.now() - 79999\n  },\n  {\n    id: 'm_4',\n    threadID: 't_2',\n    threadName: 'Dave and Bill',\n    authorName: 'Bill',\n    text: 'Hey Dave, want to get a beer after the conference?',\n    timestamp: Date.now() - 69999\n  },\n  {\n    id: 'm_5',\n    threadID: 't_2',\n    threadName: 'Dave and Bill',\n    authorName: 'Dave',\n    text: 'Totally!  Meet you at the hotel bar.',\n    timestamp: Date.now() - 59999\n  },\n  {\n    id: 'm_6',\n    threadID: 't_3',\n    threadName: 'Functional Heads',\n    authorName: 'Bill',\n    text: 'Hey Brian, are you going to be talking about functional stuff?',\n    timestamp: Date.now() - 49999\n  },\n  {\n    id: 'm_7',\n    threadID: 't_3',\n    threadName: 'Bill and Brian',\n    authorName: 'Brian',\n    text: 'At ForwardJS?  Yeah, of course.  See you there!',\n    timestamp: Date.now() - 39999\n  }\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/chat/mock-data.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"menu-horizontal\"},[_c('router-link',{staticClass:\"menu__heading menu__link\",attrs:{\"to\":\"/home\"}},[_vm._v(\"Home\")]),_vm._v(\" \"),_c('ul',{staticClass:\"menu__list\"},[_c('li',{staticClass:\"menu__item\"},[_c('router-link',{staticClass:\"menu__link\",attrs:{\"to\":\"/menu\",\"active-class\":\"menu__item--active\"}},[_vm._v(\"Menu\")])],1),_vm._v(\" \"),_c('li',{staticClass:\"menu__item\"},[_c('router-link',{staticClass:\"menu__link\",attrs:{\"to\":\"/button\",\"active-class\":\"menu__item--active\"}},[_vm._v(\"Button\")])],1),_vm._v(\" \"),_c('li',{staticClass:\"menu__item\"},[_c('router-link',{staticClass:\"menu__link\",attrs:{\"to\":\"/lang\",\"active-class\":\"menu__item--active\"}},[_vm._v(\"Lang\")])],1),_vm._v(\" \"),_c('li',{staticClass:\"menu__item\"},[_c('router-link',{staticClass:\"menu__link\",attrs:{\"to\":\"/chat\",\"active-class\":\"menu__item--active\"}},[_vm._v(\"Chat\")])],1),_vm._v(\" \"),_c('li',{staticClass:\"menu__item\"},[_c('router-link',{staticClass:\"menu__link\",attrs:{\"to\":\"/shop\",\"active-class\":\"menu__item--active\"}},[_vm._v(\"Shop\")])],1)])],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('router-view',{staticClass:\"view\"})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-53b1f224\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-53b1f224\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-53b1f224\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <div class=\"menu-horizontal\">\n      <router-link class=\"menu__heading menu__link\" to=\"/home\">Home</router-link>\n      <ul class=\"menu__list\">\n        <li class=\"menu__item\">\n          <router-link class=\"menu__link\" to=\"/menu\" active-class=\"menu__item--active\">Menu</router-link>\n        </li>\n        <li class=\"menu__item\">\n          <router-link class=\"menu__link\" to=\"/button\" active-class=\"menu__item--active\">Button</router-link>\n        </li>\n        <li class=\"menu__item\">\n          <router-link class=\"menu__link\" to=\"/lang\" active-class=\"menu__item--active\">Lang</router-link>\n        </li>\n        <li class=\"menu__item\">\n          <router-link class=\"menu__link\" to=\"/chat\" active-class=\"menu__item--active\">Chat</router-link>\n        </li>\n        <li class=\"menu__item\">\n          <router-link class=\"menu__link\" to=\"/shop\" active-class=\"menu__item--active\">Shop</router-link>\n        </li>\n      </ul>\n    </div>\n    <transition name=\"fade\" mode=\"out-in\">\n      <router-view class=\"view\"></router-view>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'APP'\n}\n</script>\n\n<style>\n/* normalize */\n@import \"./assets/css/normalize.css\";\n\n/* Menu */\n@import \"./components/Menu/base.css\";\n@import \"./components/Menu/horizontal.css\";\n\n/* Button*/\n@import \"./components/Button/base.css\";\n\nhtml {\n  font-size: 62.5%;\n}\nbody {\n  font-size: 1.4rem;\n}\n.view {\n  padding: 2rem;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","const state = {\n  posts: {},\n  post: {},\n  tag: {},\n  archives: {}\n}\n\nexport default state\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","export default {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","const mutations = {}\n\nexport default mutations\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","const currentThread = state => (state.currentThreadID ? state.threads[state.currentThreadID] : {})\nexport default {\n  threads: state => state.threads,\n  currentThread,\n  /**\n   * 获取当前消息\n   */\n  currentMessages: (state) => {\n    const thread = currentThread(state)\n    return thread.messages ? thread.messages.map(id => state.messages[id]) : []\n  },\n  /**\n   * 获取未读消息数量\n   */\n  unreadCount: ({ threads }) =>\n    Object.keys(threads).reduce((count, id) =>\n      (threads[id].lastMessage.isRead ? count : count + 1), 0),\n  /**\n   * 返回排序消息\n   */\n  sortedMessages: (state, getters) => {\n    const messages = getters.currentMessages\n    return messages.slice().sort((a, b) => a.timestamp - b.timestamp)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/chat/getters.js","const data = require('./mock-data')\n\nconst LATENCY = 16\n\nexport function getAllMessages(cb) {\n  setTimeout(() => {\n    cb(data)\n  }, LATENCY)\n}\n\nexport function createMessage({ text, thread }, cb) {\n  const timestamp = Date.now()\n  const id = `m_${timestamp}`\n  const message = {\n    id,\n    text,\n    timestamp,\n    threadID: thread.id,\n    threadName: thread.name,\n    authorName: 'Evan'\n  }\n  setTimeout(() => {\n    cb(message)\n  }, LATENCY)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/chat/index.js","import Vue from 'vue'\n\nfunction createThread(state, id, name) {\n  Vue.set(state.threads, id, {\n    id,\n    name,\n    messages: [],\n    lastMessage: null\n  })\n}\n\nfunction addMessage(state, message) {\n  // add a `isRead` field before adding the message\n  message.isRead = message.threadID === state.currentThreadID\n  // add it to the thread it belongs to\n  const thread = state.threads[message.threadID]\n  if (!thread.messages.some(id => id === message.id)) {\n    thread.messages.push(message.id)\n    thread.lastMessage = message\n  }\n  // add it to the messages map\n  Vue.set(state.messages, message.id, message)\n}\n\nfunction setCurrentThread(state, id) {\n  state.currentThreadID = id\n  if (!state.threads[id]) {\n    // eslint-disable-next-line\n    debugger;\n  }\n  // mark thread as read\n  state.threads[id].lastMessage.isRead = true\n}\n\nexport default {\n  receiveAll(state, messages) {\n    let latestMessage\n    messages.forEach((message) => {\n      // create new thread if the thread doesn't exist\n      if (!state.threads[message.threadID]) {\n        createThread(state, message.threadID, message.threadName)\n      }\n      // mark the latest message\n      if (!latestMessage || message.timestamp > latestMessage.timestamp) {\n        latestMessage = message\n      }\n      // add message\n      addMessage(state, message)\n    })\n    // set initial thread to the one with the latest message\n    setCurrentThread(state, latestMessage.threadID)\n  },\n\n  /**\n   * 收到消息\n   * @param {*} state 状态\n   * @param {*} message 消息\n   */\n  receiveMessage(state, message) {\n    addMessage(state, message)\n  },\n\n  switchThread(state, id) {\n    setCurrentThread(state, id)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/chat/mutations.js","import state from './state'\nimport getters from './getters'\nimport actions from './actions'\nimport mutations from './mutations'\n\nexport default {\n  namespaced: true,\n  // nested modules\n  state,\n  getters,\n  actions,\n  mutations\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/chat/index.js","export default {\n  currentThreadID: null,\n  threads: {\n    /*\n    id: {\n      id,\n      name,\n      messages: [...ids],\n      lastMessage\n    }\n    */\n  },\n  messages: {\n    /*\n    id: {\n      id,\n      threadId,\n      threadName,\n      authorName,\n      text,\n      timestamp,\n      isRead\n    }\n    */\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/chat/state.js","import * as api from '@/api/chat'\n\nexport default {\n  /**\n   * 获取消息列表\n   */\n  getAllMessages: ({ commit }) => {\n    api.getAllMessages((messages) => {\n      commit('receiveAll', messages)\n    })\n  },\n  /**\n   * 发送消息\n   */\n  sendMessage: ({ commit }, payload) => {\n    api.createMessage(payload, (message) => {\n      commit('receiveMessage', message)\n    })\n  },\n  switchThread: ({ commit }, payload) => {\n    commit('switchThread', payload)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/chat/actions.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport state from './state'\nimport actions from './actions'\nimport mutations from './mutations'\nimport chat from './chat'\n\nVue.use(Vuex)\n\n/* const store = new Vuex.Store({\n  state: {\n    activeType: 'home',\n    articles: [], // 文章列表\n    accounts: [], // 微信公众号列表\n    category: [], // 公众号分类列表\n  }\n})\n\nexport default store */\n\nexport function createStore() {\n  return new Vuex.Store({\n    state,\n    actions,\n    mutations,\n    modules: {\n      chat\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue'\nimport Router from 'vue-router'\n// import HomeView from '@/views/HomeView'\n// import MenuView from '@/views/MenuView'\n// import ButtonView from '@/views/ButtonView'\n\nVue.use(Router)\n\n/* eslint-disable import/no-dynamic-require */\n/* export default new Router({\n  mode: 'history',\n  scrollBehavior: () => ({ y: 0 }),\n  routes: [\n    { path: '/', redirect: '/home' },\n    { path: '/home', component: HomeView },\n    { path: '/button', component: ButtonView },\n    { path: '/menu', component: MenuView }\n  ]\n}) */\n\nexport function createRouter() {\n  return new Router({\n    mode: 'history',\n    scrollBehavior: () => ({ y: 0 }),\n    routes: [\n      { path: '/', redirect: '/home' },\n      { path: '/home', component: () => import('@/views/HomeView') },\n      { path: '/button', component: () => import('@/views/ButtonView') },\n      { path: '/menu', component: () => import('@/views/MenuView') },\n      { path: '/lang', component: () => import('@/views/LangView') },\n      { path: '/chat', component: () => import('@/views/ChatView') },\n\n      { path: '*', redirect: '/' }\n    ]\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export const messages = {\n  ch: {\n    message: {\n      hello: '你好 世界'\n    }\n  },\n  en: {\n    message: {\n      hello: 'hello world'\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/locale/home/index.js","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\n\n// Ready translated locale messages\nimport { messages } from './home/index'\n\nVue.use(VueI18n)\n// Create VueI18n instance with options\nexport const createI18n = () => {\n  const i18n = new VueI18n({\n    locale: 'ch', // set locale\n    messages // set locale messages\n  })\n  return i18n\n}\n\n// Create a Vue instance with `i18n` option\n// new Vue({ i18n }).$mount('#app')// Ready translated locale messages\n\n\n\n// WEBPACK FOOTER //\n// ./src/locale/index.js","function getTitle(vm) {\n  const { title } = vm.$options\n  if (title) {\n    return typeof title === 'function'\n      ? title.call(vm)\n      : title\n  }\n  return false\n}\n\nconst serverTitleMixin = {\n  created() {\n    const title = getTitle(this)\n    if (title) {\n      this.$ssrContext.title = title\n    }\n  }\n}\n\nconst clientTitleMixin = {\n  mounted() {\n    const title = getTitle(this)\n    if (title) {\n      document.title = title\n    }\n  }\n}\n\nexport default process.env.VUE_ENV === 'server'\n  ? serverTitleMixin\n  : clientTitleMixin\n\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/title.js","import Vue from 'vue'\nimport { sync } from 'vuex-router-sync'\nimport App from './App.vue'\nimport { createStore } from './store'\nimport { createRouter } from './router'\nimport { createI18n } from './locale'\nimport title from './mixins/title'\n\nVue.mixin(title)\n\nexport function createApp() {\n  const router = createRouter()\n  const store = createStore()\n  const i18n = createI18n()\n  sync(store, router)\n\n  const app = new Vue({\n    router,\n    store,\n    i18n,\n    render: h => h(App)\n  })\n\n  return {\n    app, router, store, i18n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","/* eslint-disable no-underscore-dangle, consistent-return, array-callback-return */\nimport 'es6-promise/auto'\nimport Vue from 'vue'\nimport { createApp } from './app'\n\nVue.mixin({\n  beforeRouteUpdate(to, from, next) {\n    const { asyncData } = this.$options\n    if (asyncData) {\n      asyncData({\n        store: this.$store,\n        route: to\n      }).then(next).catch(next)\n    } else {\n      next()\n    }\n  }\n})\n\nconst { app, store, router } = createApp()\n\n// prime the store with server-initialized state.\n// the state is determined during SSR and inlined in the page markup.\nif (window.__INITIAL_STATE__) {\n  store.replaceState(window.__INITIAL_STATE__)\n}\n\n// wait until router has resolved all async before hooks\n// and async components...\nrouter.onReady(() => {\n  router.beforeResolve((to, from, next) => {\n    const matched = router.getMatchedComponents(to)\n    const prevMatched = router.getMatchedComponents(from)\n\n    let diffed = false\n    const activated = matched.filter((component, i) => {\n      if (diffed) {\n        return diffed\n      }\n      diffed = prevMatched[i] !== component\n      return diffed\n    })\n\n    const asyncDataHooks = activated.map(component => component.asyncData).filter(_ => _)\n    if (!asyncDataHooks.length) {\n      return next()\n    }\n    Promise.all(asyncDataHooks.map(hook => hook({ store, route: to })))\n      .then(() => next())\n      .catch(next)\n  })\n\n  // actually mount to DOM\n  app.$mount('#app')\n})\n\n// service worker\nif (window.location.protocol === 'https:' && navigator.serviceWorker) {\n  navigator.serviceWorker.register('/service-worker.js')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ssr-client.entry.js"],"sourceRoot":""}