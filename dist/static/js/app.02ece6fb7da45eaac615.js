webpackJsonp([10],{FPPN:function(t,e){},Lonq:function(t,e){t.exports={api:"127.0.0.1:3000/api/",host:"127.0.0.1",port:3e3,timeout:3e4}},TIDK:function(t,e){},gf6R:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("//Fk"),a=n.n(o),r=n("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"align-h-center ",attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},i,!1,function(t){n("FPPN")},null,null).exports,u=n("/ocq"),c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._v(" "),n("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),n("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n          Core Docs\n        ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n          Forum\n        ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n          Community Chat\n        ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n          Twitter\n        ")])]),t._v(" "),n("br"),t._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n          Docs for This Template\n        ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n          vue-router\n        ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n          vuex\n        ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n          vue-loader\n        ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n          awesome-vue\n        ")])])])}]};var d=n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},c,!1,function(t){n("oLt5")},"data-v-68c1dfae",null).exports;r.a.use(u.a);n("MU8w");var l=n("NYxO"),h=n("Gu7T"),m=n.n(h),f=[{id:1,title:"iPad 4 Mini",price:500.01,inventory:2},{id:2,title:"H&M T-Shirt White",price:10.99,inventory:10},{id:3,title:"Charli XCX - Sucker CD",price:19.99,inventory:5}],p=function(t){setTimeout(function(){return t(f)},100)},v=function(t,e,n){setTimeout(function(){Math.random()>.5||navigator.userAgent.indexOf("PhantomJS")>-1?e():n()},100)},g={namespaced:!0,modules:{cart:{namespaced:!0,state:{items:[],checkoutStatus:null},getters:{cartProducts:function(t,e,n){return t.items.map(function(t){var e=t.id,o=t.quantity,a=n.shop.products.all.find(function(t){return t.id===e});return{title:a.title,price:a.price,quantity:o}})},cartTotalPrice:function(t,e){return e.cartProducts.reduce(function(t,e){return t+e.price*e.quantity},0)}},actions:{checkout:function(t,e){var n=t.commit,o=t.state,a=[].concat(m()(o.items));n("setCheckoutStatus",null),n("setCartItems",{items:[]}),v(e,function(){return n("setCheckoutStatus","successful")},function(){n("setCheckoutStatus","failed"),n("setCartItems",{items:a})})},addProductToCart:function(t,e){var n=t.state,o=t.commit;if(o("setCheckoutStatus",null),e.inventory>0){var a=n.items.find(function(t){return t.id===e.id});a?o("incrementItemQuantity",a):o("pushProductToCart",{id:e.id}),o("shop/products/decrementProductInventory",{id:e.id},{root:!0})}}},mutations:{pushProductToCart:function(t,e){var n=e.id;t.items.push({id:n,quantity:1})},incrementItemQuantity:function(t,e){var n=e.id;t.items.find(function(t){return t.id===n}).quantity++},setCartItems:function(t,e){var n=e.items;t.items=n},setCheckoutStatus:function(t,e){t.checkoutStatus=e}}},products:{namespaced:!0,state:{all:[]},getters:{},actions:{getAllProducts:function(t){var e=t.commit;p(function(t){e("setProducts",t)})}},mutations:{setProducts:function(t,e){t.all=e},decrementProductInventory:function(t,e){var n=e.id;t.all.find(function(t){return t.id===n}).inventory--}}}}},_=n("fZjL"),T=n.n(_),w=function(t){return t.currentThreadID?t.threads[t.currentThreadID]:{}},y={threads:function(t){return t.threads},currentThread:w,currentMessages:function(t){var e=w(t);return e.messages?e.messages.map(function(e){return t.messages[e]}):[]},unreadCount:function(t){var e=t.threads;return T()(e).reduce(function(t,n){return e[n].lastMessage.isRead?t:t+1},0)},sortedMessages:function(t,e){return e.currentMessages.slice().sort(function(t,e){return t.timestamp-e.timestamp})}},b=n("jNyJ"),I=16;function D(t,e){e.isRead=e.threadID===t.currentThreadID;var n=t.threads[e.threadID];n.messages.some(function(t){return t===e.id})||(n.messages.push(e.id),n.lastMessage=e),r.a.set(t.messages,e.id,e)}function x(t,e){t.currentThreadID=e,t.threads[e],t.threads[e].lastMessage.isRead=!0}var S={namespaced:!0,state:{currentThreadID:null,threads:{},messages:{}},getters:y,actions:{getAllMessages:function(t){var e,n=t.commit;e=function(t){n("receiveAll",t)},setTimeout(function(){e(b)},I)},sendMessage:function(t,e){var n,o,a,r,i,s,u=t.commit;o=function(t){u("receiveMessage",t)},a=(n=e).text,r=n.thread,i=Date.now(),s={id:"m_"+i,text:a,timestamp:i,threadID:r.id,threadName:r.name,authorName:"Evan"},setTimeout(function(){o(s)},I)},switchThread:function(t,e){(0,t.commit)("switchThread",e)}},mutations:{receiveAll:function(t,e){var n=void 0;e.forEach(function(e){t.threads[e.threadID]||function(t,e,n){r.a.set(t.threads,e,{id:e,name:n,messages:[],lastMessage:null})}(t,e.threadID,e.threadName),(!n||e.timestamp>n.timestamp)&&(n=e),D(t,e)}),x(t,n.threadID)},receiveMessage:function(t,e){D(t,e)},switchThread:function(t,e){x(t,e)}}},k=n("pUzy"),M=16;var C=n("mvHQ"),N=n.n(C),P={namespaced:!0,state:{todos:[]},actions:{getAllTodos:function(t){var e,n=t.commit;0===JSON.parse(localStorage.getItem("todos-vuejs")||"[]").length&&(e=function(t){n("receiveAll",t)},setTimeout(function(){e(k)},M))},addTodo:function(t,e){(0,t.commit)("addTodo",{text:e,done:!1})},removeTodo:function(t,e){(0,t.commit)("removeTodo",e)},toggleTodo:function(t,e){(0,t.commit)("editTodo",{todo:e,done:!e.done})},editTodo:function(t,e){(0,t.commit)("editTodo",{todo:e.todo,text:e.value})},toggleAll:function(t,e){var n=t.state,o=t.commit;n.todos.forEach(function(t){o("editTodo",{todo:t,done:e})})},clearCompleted:function(t){var e=t.state,n=t.commit;e.todos.filter(function(t){return t.done}).forEach(function(t){n("removeTodo",t)})}},mutations:{receiveAll:function(t,e){t.todos=e,window.localStorage.setItem("todos-vuejs",N()(t.todos))},addTodo:function(t,e){t.todos.push(e),window.localStorage.setItem("todos-vuejs",N()(t.todos))},removeTodo:function(t,e){t.todos.splice(t.todos.indexOf(e),1)},editTodo:function(t,e){var n=e.todo,o=e.text,a=void 0===o?n.text:o,r=e.done,i=void 0===r?n.done:r;n.text=a,n.done=i}}};r.a.use(l.a);var j=n("TXmL"),R={ch:{message:{hello:"你好 世界"}},en:{message:{hello:"hello world"}}};r.a.use(j.a);var A=function(){return new j.a({locale:"ch",messages:R})},E=/(\d{3})(?=\d)/g;r.a.filter("currency",function(t,e,n){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=null!=e?e:"$",n=null!=n?n:2;var o=Math.abs(t).toFixed(n),a=n?o.slice(0,-1-n):o,r=a.length%3,i=r>0?a.slice(0,r)+(a.length>3?",":""):"",s=n?o.slice(-1-n):"";return(t<0?"-":"")+e+i+a.slice(r).replace(E,"$1,")+s}),r.a.filter("time",function(t){return new Date(t).toLocaleTimeString()}),r.a.config.productionTip=!1;var L={name:"ProgressBar",data:function(){return{percent:0,show:!1,canSuccess:!0,duration:3e3,height:"2px",color:"#ffca2b",failedColor:"#ff0000"}},methods:{start:function(){var t=this;return this.show=!0,this.canSuccess=!0,this._timer&&(clearInterval(this._timer),this.percent=0),this._cut=1e4/Math.floor(this.duration),this._timer=setInterval(function(){t.increase(t._cut*Math.random()),t.percent>95&&t.finish()},100),this},set:function(t){return this.show=!0,this.canSuccess=!0,this.percent=Math.floor(t),this},get:function(){return Math.floor(this.percent)},increase:function(t){return this.percent=this.percent+Math.floor(t),this},decrease:function(t){return this.percent=this.percent-Math.floor(t),this},finish:function(){return this.percent=100,this.hide(),this},pause:function(){return clearInterval(this._timer),this},hide:function(){var t=this;return clearInterval(this._timer),this._timer=null,setTimeout(function(){t.show=!1,t.$nextTick(function(){setTimeout(function(){t.percent=0},200)})},500),this},fail:function(){return this.canSuccess=!1,this}}},$={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"progress",style:{width:this.percent+"%",height:this.height,"background-color":this.canSuccess?this.color:this.failedColor,opacity:this.show?1:0}})},staticRenderFns:[]};var B=n("VU/8")(L,$,!1,function(t){n("TIDK")},"data-v-50495048",null).exports,F=n("mtWM"),q=n.n(F),J=n("mw3O"),H=n.n(J),X=n("Lonq"),U=n.n(X);function W(t){return 200===t.status||304===t.status?t:{data:{code:-404,message:t.statusText,data:""}}}function O(t){return-500===t.data.code||-400===t.data.code||t.data.code,t}q.a.interceptors.request.use(function(t){return t},function(t){return a.a.reject(t)}),q.a.interceptors.response.use(function(t){return t},function(t){return a.a.resolve(t.response)});var V,Q,Y,z={post:function(t,e){return q()({method:"post",url:U.a.api+t,data:H.a.stringify(e),timeout:U.a.timeout,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(W).then(O)},get:function(t,e){return q()({method:"get",url:U.a.api+t,params:e,timeout:U.a.timeout,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(W).then(O)}},G=r.a.prototype.$loading=new r.a(B).$mount(),K=(V=new u.a({mode:"history",routes:[{path:"/",name:"Hello",component:d},{path:"/test",name:"Test",component:function(){return n.e(7).then(n.bind(null,"ua3t"))}},{path:"/lang",name:"Lang",component:function(){return n.e(8).then(n.bind(null,"XlqM"))}},{path:"/shop",name:"Shop",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"wA6P"))}},{path:"/vwlayout",name:"VwLayout",component:function(){return n.e(4).then(n.bind(null,"BLVc"))}},{path:"/chat",name:"Chat",component:function(){return n.e(5).then(n.bind(null,"vi/S"))}},{path:"/todo",name:"Todo",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"jt79"))}},{path:"/layout",name:"Layout",component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"da/5"))}},{path:"/grid",name:"Grid",component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"Q/Xc"))}}]}),Q=new l.a.Store({modules:{shop:g,chat:S,todo:P}}),Y=A(),{app:new r.a({router:V,store:Q,i18n:Y,render:function(t){return t(s)}}),router:V,store:Q,i18n:Y}),Z=K.app,tt=K.router,et=K.store;window.__INITIAL_STATE__&&(et.replaceState(window.__INITIAL_STATE__),et.$api=et.state.$api=z),document.body.appendChild(G.$el),r.a.mixin({beforeRouteUpdate:function(t,e,n){var o=this.$options.asyncData;o?o({store:this.$store,route:t}).then(n).catch(n):n()}}),tt.beforeEach(function(t,e,n){console.log("global beforeEach"),n()}),tt.beforeResolve(function(t,e,n){console.log("global beforeResolve"),n()}),tt.afterEach(function(t,e,n){console.log("global afterEach")}),console.log("router onReady:"),tt.beforeResolve(function(t,e,n){console.log("router beforeResolve");var o=tt.getMatchedComponents(t),r=tt.getMatchedComponents(e),i=!1,s=o.filter(function(t,e){return i||(i=r[e]!==t)});if(!s.length)return n();G.start(),a.a.all(s.map(function(e){if(e.asyncData)return e.asyncData({store:et,route:t})})).then(function(){G.finish(),n()}).catch(n)}),tt.onReady(function(){Z.$mount("#app")})},jNyJ:function(t,e){t.exports=[{id:"m_1",threadID:"t_1",threadName:"Jing and Bill",authorName:"Bill",text:"Hey Jing, want to give a Flux talk at ForwardJS?",timestamp:Date.now()-99999},{id:"m_2",threadID:"t_1",threadName:"Jing and Bill",authorName:"Bill",text:"Seems like a pretty cool conference.",timestamp:Date.now()-89999},{id:"m_3",threadID:"t_1",threadName:"Jing and Bill",authorName:"Jing",text:"Sounds good.  Will they be serving dessert?",timestamp:Date.now()-79999},{id:"m_4",threadID:"t_2",threadName:"Dave and Bill",authorName:"Bill",text:"Hey Dave, want to get a beer after the conference?",timestamp:Date.now()-69999},{id:"m_5",threadID:"t_2",threadName:"Dave and Bill",authorName:"Dave",text:"Totally!  Meet you at the hotel bar.",timestamp:Date.now()-59999},{id:"m_6",threadID:"t_3",threadName:"Functional Heads",authorName:"Bill",text:"Hey Brian, are you going to be talking about functional stuff?",timestamp:Date.now()-49999},{id:"m_7",threadID:"t_3",threadName:"Bill and Brian",authorName:"Brian",text:"At ForwardJS?  Yeah, of course.  See you there!",timestamp:Date.now()-39999}]},oLt5:function(t,e){},pUzy:function(t,e){t.exports=[{text:"task_01",done:!1},{text:"task_02",done:!0},{text:"task_03",done:!0}]}},["gf6R"]);
//# sourceMappingURL=app.02ece6fb7da45eaac615.js.map